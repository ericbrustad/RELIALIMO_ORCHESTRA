<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Sign in</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="auth.css" />
    <script src="env.js"></script>
  </head>
  <body>
    <main class="auth-shell">
      <header>
        <h1>Sign in</h1>
        <p class="auth-lede">Enter your Supabase email and password or request a magic link.</p>
      </header>

      <form id="login-form" class="auth-form">
        <label class="auth-label" for="login-email">Email</label>
        <input id="login-email" name="email" type="email" placeholder="Email" required />
        <label class="auth-label" for="login-password">Password</label>
        <input id="login-password" name="password" type="password" placeholder="Password" required />
        <button type="submit">Sign in</button>
      </form>

      <section class="magic-link-availability" aria-live="polite">
        <div class="magic-link-status">
          <span id="magic-link-badge" class="status-chip enabled">Magic link available</span>
          <span id="magic-link-role" class="role-chip">Viewing as Admin</span>
        </div>
        <p id="magic-link-description" class="auth-hint">
          Magic link sign-in is enabled for Admins. Use your Supabase email to request a link.
        </p>
      </section>

      <form id="magic-form" class="auth-form auth-form--secondary">
        <label class="auth-label" for="magic-email">Email for magic link</label>
        <input id="magic-email" name="email" type="email" placeholder="Email for magic link" required />
        <button type="submit">Send magic link</button>
        <small>Weâ€™ll email you a one-time link to sign in.</small>
      </form>

      <p id="msg" role="status" aria-live="polite" class="auth-message"></p>
    </main>

    <script type="module" src="auth.js"></script>
  </body>
</html>
